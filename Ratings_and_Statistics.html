<!DOCTYPE html><html lang="zh-CN" dir="ltr"><head><meta charset="UTF-8"><title>评分和统计数据 - 3D坦克维基</title><meta charset="UTF-8">
    <script async="" src="https://mc.yandex.ru/metrika/tag.js"></script>
    <script async="" src="https://mc.yandex.ru/metrika/tag.js"></script>
    <script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"2c059fde0d0a8cbcfedde605","wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Ratings_and_Statistics","wgTitle":"Ratings and Statistics","wgCurRevisionId":65352,"wgRevisionId":65352,"wgArticleId":2433,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Ratings_and_Statistics","wgRelevantArticleId":2433,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVisualEditor":{"pageLanguageCode":"en",
"pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgEditSubmitButtonLabelPublish":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.visualEditor.desktopArticleTarget.noscript":"ready","skins.tankiblue.responsive":"ready","mediawiki.skinning.interface":"ready","skins.tankiblue":"ready"};RLPAGEMODULES=["mediawiki.page.media","site","mediawiki.page.ready","ext.gadget.UTCLiveClock","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","skins.tankiblue.js","ext.purge"];</script>
    <script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
    <link rel="stylesheet" href="https://en.tankiwiki.com/load.php?lang=en&amp;modules=ext.visualEditor.desktopArticleTarget.noscript%7Cmediawiki.skinning.interface%7Cskins.tankiblue%7Cskins.tankiblue.responsive&amp;only=styles&amp;skin=tankiblue">
    <script async="" src="https://en.tankiwiki.com/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=tankiblue"></script>
    <meta name="ResourceLoaderDynamicStyles" content="">
    <link rel="stylesheet" href="https://en.tankiwiki.com/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=tankiblue">
    <meta name="generator" content="MediaWiki 1.42.3">
    <meta name="robots" content="max-image-preview:standard">
    <meta name="format-detection" content="telephone=no">
    <meta property="og:image" content="https://en.tankiwiki.com/images/en/a/ad/Ratings_Efficiency.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1585">
    <meta property="og:image" content="https://en.tankiwiki.com/images/en/a/ad/Ratings_Efficiency.png">
    <meta property="og:image:width" content="800">
    <meta property="og:image:height" content="1057">
    <meta property="og:image:width" content="640">
    <meta property="og:image:height" content="845">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://en.tankiwiki.com/favicon.png">
    <link rel="search" type="application/opensearchdescription+xml" href="https://en.tankiwiki.com/opensearch_desc.php" title="Tanki Online Wiki (en)">
    <link rel="EditURI" type="application/rsd+xml" href="https://en.tankiwiki.com/api.php?action=rsd">
    <link rel="alternate" type="application/atom+xml" title="Tanki Online Wiki Atom feed" href="https://en.tankiwiki.com/index.php?title=Special:RecentChanges&amp;feed=atom">
    <script src="https://en.tankiwiki.com/load.php?lang=en&amp;modules=ext.purge%7Cjquery%2Csite%7Cjquery.client%2CtextSelection%7Cmediawiki.String%2CTitle%2Capi%2Cbase%2Ccldr%2Ccookie%2CjqueryMsg%2Clanguage%2Cstorage%2Cuser%2Cutil%7Cmediawiki.editfont.styles%7Cmediawiki.libs.pluralruleparser%7Cmediawiki.page.media%2Cready%7Cskins.tankiblue.js&amp;skin=tankiblue&amp;version=urx24"></script><style>@import url('https://fonts.googleapis.com/css2?family=M+PLUS+1p&family=Rubik&display=swap');body{font-family:'Rubik','M PLUS 1p',sans-serif;background-color:#001926 !important;}#mw-main-container{max-width:1200px;margin:20px auto;background-color:#001926;padding:20px;}</style></head><body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ratings_and_Statistics rootpage-Ratings_and_Statistics skin-tankiblue action-view"><div id="mw-main-container"><a href="./Tanki_Online_Wiki" style="display: inline-block; margin: 0 0 25px 0; padding: 12px 24px; background-color: #BFD5FF; color: #001926; text-decoration: none; font-weight: bold; border-radius: 8px; font-family: 'Rubik', 'M PLUS 1p', sans-serif; transition: background-color 0.3s ease, transform 0.2s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.2);" onmouseover="this.style.backgroundColor='#a8c0e0'; this.style.transform='scale(1.03)';" onmouseout="this.style.backgroundColor='#BFD5FF'; this.style.transform='scale(1)';">返回主页</a><div class="main-content"><div class="mw-body ve-init-mw-desktopArticleTarget-targetContainer" id="content" role="main"><a id="top"></a><div class="mw-body-content" id="bodyContent"><div id="siteNotice"></div><div id="mw-content-text" class="mw-content-ltr mw-parser-output" lang="zh-CN" dir="ltr"><h1 id="firstHeading" class="firstHeading" lang=""><span class="mw-page-title-main">评级和统计数据</span></h1><div class="dablink"><em>另请参阅</em>:<a href="./Main_Page" class="mw-redirect" title="主页">主页</a>,<a href="./Game_mechanics" title="游戏机制">游戏机制</a>和<a href="./Achievements" title="成就">成就</a>
</div><p><br>
</p><div align="center"><span typeof="mw:File"><span><img src="https://en.tankiwiki.com/images/en/thumb/c/c1/Ratings_statistics_EN.jpg/750px-Ratings_statistics_EN.jpg" decoding="async" loading="lazy" width="750" height="224" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/c/c1/Ratings_statistics_EN.jpg 1.5x"></span></span></div><p><br>
</p><h2><span class="mw-headline" id="Ratings">评分</span></h2><p>这<a rel="nofollow" class="external text" href="https://ratings.tankionline.com/en/">评分</a>页面是一个关键元素，显示每周前100名坦克手在四个类别中的排名：效率评分（仅列出前99名）、获得的经验值，<a href="./Gold_Box" title="金箱子">金箱子</a>被抓住，和<a href="./Crystals" title="水晶">水晶</a>已赚取。
这些列表每周一 UTC 时间 2:00 重置（不包括<b>效率评级</b>列表）随计划的服务器重启而更新。评分每隔几分钟更新一次。</p><div align="center"><span typeof="mw:File"><span><img src="https://en.tankiwiki.com/images/en/thumb/a/ad/Ratings_Efficiency.png/196px-Ratings_Efficiency.png" decoding="async" loading="lazy" width="196" height="259" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/a/ad/Ratings_Efficiency.png/294px-Ratings_Efficiency.png 1.5x, https://en.tankiwiki.com/images/en/thumb/a/ad/Ratings_Efficiency.png/392px-Ratings_Efficiency.png 2x"></span></span><span typeof="mw:File"><span><img src="https://en.tankiwiki.com/images/en/thumb/7/74/Rating_exp.jpg/200px-Rating_exp.jpg" decoding="async" loading="lazy" width="200" height="257" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/7/74/Rating_exp.jpg/300px-Rating_exp.jpg 1.5x, https://en.tankiwiki.com/images/en/thumb/7/74/Rating_exp.jpg/400px-Rating_exp.jpg 2x"></span></span><span typeof="mw:File"><span><img src="https://en.tankiwiki.com/images/en/thumb/d/d6/Rating_gld.jpg/200px-Rating_gld.jpg" decoding="async" loading="lazy" width="200" height="259" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/d/d6/Rating_gld.jpg/300px-Rating_gld.jpg 1.5x, https://en.tankiwiki.com/images/en/thumb/d/d6/Rating_gld.jpg/400px-Rating_gld.jpg 2x"></span></span><span typeof="mw:File"><span><img src="https://en.tankiwiki.com/images/en/thumb/4/47/Rating_cry.jpg/200px-Rating_cry.jpg" decoding="async" loading="lazy" width="200" height="257" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/4/47/Rating_cry.jpg/300px-Rating_cry.jpg 1.5x, https://en.tankiwiki.com/images/en/thumb/4/47/Rating_cry.jpg/400px-Rating_cry.jpg 2x"></span></span></div><hr><p><br>
</p><h2><span class="mw-headline" id="Statistics">统计数据</span></h2><div align="center"><figure typeof="mw:File/Thumb"><span><img resource="/File:Statistics2.png" src="https://en.tankiwiki.com/images/en/thumb/2/2f/Statistics2.png/550px-Statistics2.png" decoding="async" loading="lazy" width="550" height="348" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/2/2f/Statistics2.png/825px-Statistics2.png 1.5x, https://en.tankiwiki.com/images/en/2/2f/Statistics2.png 2x"></span><figcaption><i>在 Flash 被停用之前，评分页面会显示你当前装备的坦克。</i></figcaption></figure></div><p>每位坦克手都有自己的简介页面，显示各种统计数据：</p><ul><li>当前<a href="./Ranks" title="等级">等级</a></li>
<li>获得的经验值数量</li>
<li>被摧毁的红队数量</li>
<li>死亡人数</li>
<li>总击杀/死亡比</li>
<li>游戏时间</li>
<li>总数<a href="./Crystals" title="水晶">水晶</a>从战斗中获得</li>
<li>总数<a href="./Gold_Box" title="金箱子">金箱子</a>抓住</li>
<li>总数<a href="./Supplies" title="道具">道具</a>使用过的</li>
<li>当前职务在<a class="mw-selflink-fragment" href="#Ratings">每周评级</a>(地点)，获得的经验值，数量<a href="./Gold_Box" title="金箱子">金箱子</a>捕获数量<a href="./Crystals" title="水晶">水晶</a>获得的（数值），以及前一周的数值（之前）</li>
<li>效率/效能评分 - 这是通过一个复杂的公式计算的，该公式反映了你在战斗中的表现。有一个单独的部分显示按效率排名的前100名玩家。此排名是逐步更新的，并不会每周重置。请注意，用于计算效率/效能的公式并未由开发者公开。被封禁的账号将不会显示评分。</li>
<li><a href="./Achievements" title="成就">成就</a></li>
<li><a href="./Gear_Score" title="装备分数">装备分数</a><br><br><br></li></ul><p>简介页面的底部列出了所有的<a href="./Turrets" title="炮塔">炮塔</a>,<a href="./Hulls" title="底盘">底盘</a>,<a href="./Modules" title="模块">模块</a>，和<a href="./Paints" title="迷彩">迷彩</a>由坦克手使用，包括使用每件装备所花费的小时数和获得的经验值。<br>
</p><table class="new-wikitable" style="text-align:center">
<tbody><tr>
<th style="background:#2b2b2b" width="35%">信息类型</th>
<th style="background:#2b2b2b" width="20%">当数值被计算时</th>
<th style="background:#2b2b2b" width="45%">附加说明</th></tr>
<tr>
<td style="text-align: center;">当前等级 &amp; 获得的经验值数量</td>
<td style="text-align: center;">自玩家的注册日期起</td>
<td style="text-align: center;">-</td></tr>
<tr>
<td style="text-align: center;">红队被摧毁的数量</td>
<td style="text-align: center;">自玩家注册日期起</td>
<td rowspan="3" style="text-align: center;">这些统计数据也受到跑酷战斗的影响</td></tr>
<tr>
<td style="text-align: center;">自身死亡人数</td>
<td style="text-align: center;">自玩家注册日期起</td></tr>
<tr>
<td style="text-align: center;">击杀/死亡比率</td>
<td style="text-align: center;">自玩家注册之日起</td></tr>
<tr>
<td style="text-align: center;">游戏总时间</td>
<td style="text-align: center;">自2015年10月23日以来</td>
<td style="text-align: center;">-</td></tr>
<tr>
<td style="text-align: center;">通过战斗获得的水晶总数</td>
<td style="text-align: center;">自2015年10月23日以来</td>
<td style="text-align: center;">该数值仅考虑通过完成战斗获得的水晶奖励，包括 VIP 账号/新手通行证等额外奖励。</td></tr>
<tr>
<td style="text-align: center;">捕获的金箱子总数</td>
<td style="text-align: center;">自2015年10月23日起</td>
<td style="text-align: center;">这包括玩家掉落的金箱子</td></tr>
<tr>
<td style="text-align: center;">使用的道具总数</td>
<td style="text-align: center;">自2015年10月23日以来</td>
<td style="text-align: center;">此数字还包括掉落的金箱子数量</td></tr>
<tr>
<td style="text-align: center;">在使用一件装备玩耍时所花费的时间和获得的经验值</td>
<td style="text-align: center;">自2015年10月23日起</td>
<td style="text-align: center;">“收集”<i>X</i>使用经验值<i>X</i>“炮塔”成就为<b>总经验值</b>通过标准版和XT版的炮塔获得。</td></tr>
<tr>
<td style="text-align: center;">从各种战斗模式中获得的时间和经验值</td>
<td style="text-align: center;">自2015年10月23日以来</td>
<td style="text-align: center;">-</td></tr></tbody></table><p>系统还显示数量<a href="./Supplies" title="道具">道具</a>在每种战斗模式中使用的时间、游戏时间以及获得的经验值，以及<a href="./Gifts" title="礼物">收到了礼物</a>.<br>
</p><figure typeof="mw:File/Thumb"><span><img resource="/File:Profilemarc2.png" src="https://en.tankiwiki.com/images/en/thumb/8/8e/Profilemarc2.png/125px-Profilemarc2.png" decoding="async" loading="lazy" width="125" height="126" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/8/8e/Profilemarc2.png/188px-Profilemarc2.png 1.5x, https://en.tankiwiki.com/images/en/thumb/8/8e/Profilemarc2.png/250px-Profilemarc2.png 2x"></span><figcaption></figcaption></figure><figure typeof="mw:File/Thumb"><span><img resource="/File:Profilemarc3.png" src="https://en.tankiwiki.com/images/en/thumb/7/72/Profilemarc3.png/200px-Profilemarc3.png" decoding="async" loading="lazy" width="200" height="97" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/7/72/Profilemarc3.png/300px-Profilemarc3.png 1.5x, https://en.tankiwiki.com/images/en/7/72/Profilemarc3.png 2x"></span><figcaption></figcaption></figure><p>简介的示例</p><p><br>
</p><p>所有简介——除了部分管理员、特殊账号和开发者——默认对公众可见，但您可以在游戏设置中隐藏您的个人资料！这意味着无论某位坦克手是否在您的好友列表中，您几乎都可以查看他们的简介。<a href="./Friends_system" title="好友系统">好友列表</a>有几种方式可以访问简介：</p><ul><li>使用搜索功能查找他们的页面<a rel="nofollow" class="external text" href="http://ratings.tankionline.com/en/">评分网站</a></li></ul><p>或者</p><ul><li>点击其中的名字<a rel="nofollow" class="external text" href="http://play.tankionline.com/">游戏</a>然后选择“<b>简介</b>”</li></ul><p>或者</p><ul><li>点击“<b>简介</b>在……的时候<a rel="nofollow" class="external text" href="http://en.tankiforum.com/">论坛</a></li></ul><p>你也可以通过…与世界分享你的简介<a href="./Social_networks" title="社交网络">社交媒体</a>!<br><br>
</p><p><br>
<b>请注意：</b>从3D坦克开始唯一被积累的参数有经验值、击杀数、死亡数和获得的水晶。其他所有数据都是从2015年10月23日星期五开始监控的，那时统计数据系统已被整合到游戏中。<i></i>
</p><h3><span class="mw-headline" id="Gear_Score">装备分数</span></h3><div class="dablink noprint"><em>主题文章</em>:<b><a href="./Gear_Score" title="装备分数">装备分数</a></b>
</div><p><b>装备分数 (装备分数)</b>- 一个显示当前使用装备“强度”的数值。你可以通过按游戏中的按钮查看其他玩家的装备分数<span class="hotkey">TAB</span>按钮或在他们的评分简介中找到它。<br>
</p><h3><span class="mw-headline" id="Hiding_your_profile">隐藏你的简介</span></h3><p>可以将您的个人资料从其他玩家那里隐藏（但也会从您自己那里隐藏）。要做到这一点，您需要进入您的设置（位于屏幕左下角）。然后，您需要点击“安全”标签，最后勾选写着“隐藏您的个人资料”的选项。</p><p><span typeof="mw:File"><span><img src="https://en.tankiwiki.com/images/en/thumb/e/e0/Hide_Profile.png/600px-Hide_Profile.png" decoding="async" loading="lazy" width="600" height="310" class="mw-file-element" srcset="https://en.tankiwiki.com/images/en/thumb/e/e0/Hide_Profile.png/900px-Hide_Profile.png 1.5x, https://en.tankiwiki.com/images/en/thumb/e/e0/Hide_Profile.png/1200px-Hide_Profile.png 2x"></span></span>
</p><div align="right"><small>最后编辑：Myojin 2025年10月16日</small></div></div></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <script type="text/javascript">
    (function (m, e, t, r, i, k, a) {
        m[i] = m[i] || function () {
            (m[i].a = m[i].a || []).push(arguments)
        };
        m[i].l = 1 * new Date();
        k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
    })
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(17294416, "init", {
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
        trackHash: true
    });
</script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="https://tankionline.com/ru/wp-content/plugins/ag-custom-blocks/build/blocks.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/common.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/supportForm.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/sliders.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/paints.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/headerAnimation.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/maps.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/modals.js"></script>
    <script src="https://en.tankiwiki.com/skins/TankiBlue/resources/scripts/upgradesCalculator.js"></script>
    <script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":355,"wgPageParseReport":{"limitreport":{"cputime":"0.049","walltime":"0.059","ppvisitednodes":{"value":238,"limit":1000000},"postexpandincludesize":{"value":802,"limit":2097152},"templateargumentsize":{"value":300,"limit":2097152},"expansiondepth":{"value":9,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":1,"limit":5000000},"timingprofile":["100.00%   15.669      1 -total"," 60.19%    9.431      1 Template:See_also"," 42.71%    6.693      2 Template:Other_meaning"," 19.77%    3.098     14 Template:See_also/link"," 15.34%    2.403      1 Template:Main"," 12.21%    1.914      1 Template:LastEdit"," 10.14%    1.589      1 Template:Hotkey"]},"cachereport":{"timestamp":"20251016230812","ttl":86400,"transientcontent":false}}});});</script>
    
    <script>
    // 客户端颜色替换逻辑
    function replaceColorsInDom() {
        // 定义替换规则
        const replacements = [
            { from: /#?46DF11|rgb\(70,\s*223,\s*17\)/gi, to: '#76FF33' },
            { from: /#?00D7FF/gi, to: '#00D4FF' },
            { from: /#?(F86667|F33|FF3333)\b/gi, to: '#FF6666' },
            { from: /#?(FC0|FFCC00)\b/gi, to: '#FFEE00' },
            { from: /#?8C60EB/gi, to: '#D580FF' }
        ];

        // 辅助函数，应用所有替换规则
        function applyReplacements(text) {
            if (!text) return text;
            let newText = text;
            for (const rule of replacements) {
                newText = newText.replace(rule.from, rule.to);
            }
            return newText;
        }

        // 1. 替换所有元素的内联样式 (style attribute)
        document.querySelectorAll('[style]').forEach(el => {
            const originalStyle = el.getAttribute('style');
            const newStyle = applyReplacements(originalStyle);
            if (newStyle !== originalStyle) {
                el.setAttribute('style', newStyle);
            }
        });

        // 2. 替换页面内 <style> 标签中的样式规则
        document.querySelectorAll('style').forEach(styleTag => {
            const originalCss = styleTag.innerHTML;
            const newCss = applyReplacements(originalCss);
            if (newCss !== originalCss) {
                styleTag.innerHTML = newCss;
            }
        });
    }

    // 在DOM加载完成后立即执行，以尽量减少颜色闪烁
    document.addEventListener('DOMContentLoaded', replaceColorsInDom);
    </script>
    
    
    <script>
    // Bilibili 弹窗逻辑 (V4 - 精确复刻)
    document.addEventListener('DOMContentLoaded', function() {
        const videoPopups = document.querySelectorAll('.ShowYouTubePopup');
        if (videoPopups.length) {
            let modal = null;
            videoPopups.forEach(popup => {
                if (popup.dataset.biliHandled) return;
                
                popup.addEventListener('click', (event) => {
                    event.stopImmediatePropagation(); 

                    if (typeof tingle === 'undefined') {
                        console.error('Tingle.js 未加载，无法打开视频弹窗。');
                        return;
                    }
                    showBilibiliModal(popup.dataset.id);
                }, true);

                popup.dataset.biliHandled = 'true';
            });

            function showBilibiliModal(bvid) {
                modal = new tingle.modal({
                    closeMethods: ['button', 'escape', 'overlay']
                });
                modal.setContent(`
                        <div class="report-head">
                            <div class="report-title">观看视频</div>
                            <div class="report-stripes"></div>
                            <div class="report-close"></div>
                        </div>
                        
                        <div style="margin: 15px 10px 10px 10px; background: url('loading.gif') center no-repeat;">
                            <iframe class="yt-video" width="640px" height="360px"
                                src="https://player.bilibili.com/player.html?bvid=${bvid}" 
                                frameborder="0" 
                                allowfullscreen="allowfullscreen"
                                sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts">
                            </iframe>
                        </div>
                    `);
                modal.open();

                const closeButton = modal.getContent().querySelector('.report-close');
                closeButton.addEventListener('click', () => modal.close());

                const tingleClose = modal.modal.querySelector('.tingle-modal__close');
                if (tingleClose) tingleClose.remove();
            }
        }
    });
    </script>
    </body></html>